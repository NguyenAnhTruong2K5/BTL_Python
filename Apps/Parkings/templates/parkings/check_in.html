{% extends "parkings/base.html" %}
{% block content %}

<style>

  /* Hi·ªáu ·ª©ng fade-in m∆∞·ª£t m√† */
  .fade-in {
    animation: fadeIn 1s ease-in-out;
  }

  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
  }

  /* Hi·ªáu ·ª©ng hover n√∫t */
  #submitBtn:hover {
    background-color: #0b8c3e;
    transform: scale(1.03);
    transition: all 0.2s ease-in-out;
  }

  /* Card ƒë·∫πp h∆°n */
  .card {
    background: #ffffff;
    border-radius: 15px;
    transition: all 0.3s ease;
  }

  .card:hover {
    box-shadow: 0 8px 20px rgba(0,0,0,0.15);
  }
</style>

<div class="container mt-5">
  <div class="card shadow-lg border-0 rounded-4">
    <div class="card-body p-5">
      <h2 class="text-center mb-4 fw-bold text-primary text-danger">
        Check-in xe v√†o b√£i
      </h2>

      <!-- Form check-in -->
      <form method="POST" enctype="multipart/form-data" id="checkinForm">
        {% csrf_token %}
        <div class="mb-3">
          <label for="card_id" class="form-label">Ch·ªçn th·∫ª ƒëang r·∫£nh:</label>
          <select name="card_id" id="card_id" class="form-select" required>
            <option value="">-- Ch·ªçn th·∫ª --</option>
            {% for card in cards %}
              <option value="{{ card.id }}">{{ card.id }} ({{ card.status }})</option>
            {% endfor %}
          </select>
        </div>

        <div class="mb-3">
          <label for="image" class="form-label">·∫¢nh xe v√†o b√£i:</label>
          <input type="file" name="image" id="image" accept="image/*" class="form-control" required>
        </div>

        <div class="mb-3">
          <label for="vehicle_type" class="form-label">Lo·∫°i ph∆∞∆°ng ti·ªán:</label>
          <select name="vehicle_type" id="vehicle_type" class="form-select" required>
            <option value="">-- Ch·ªçn lo·∫°i xe --</option>
            <option value="motorbike">Xe m√°y</option>
            <option value="car">√î t√¥</option>
          </select>
        </div>

        <button type="submit" class="btn btn-success w-100 fw-bold" id="submitBtn">
          X√°c nh·∫≠n Check-In
        </button>
      </form>

      <hr class="my-4">

      <!-- K·∫øt qu·∫£ ƒë·ªçc bi·ªÉn s·ªë -->
      {% if plate_number %}
      <div id="resultBox" class="text-center fade-in">
        <h4 class="text-success fw-bold">üì∏ K·∫øt qu·∫£ nh·∫≠n d·∫°ng:</h4>
        <div class="display-5 text-dark">{{ plate_number }}</div>
      </div>
      {% endif %}

      <!-- Th√¥ng b√°o -->
      {% if messages %}
      <div class="mt-4">
        {% for message in messages %}
        <div class="alert alert-{{ message.tags }} fade show" role="alert">
          {{ message }}
        </div>
        {% endfor %}
      </div>
      {% endif %}
    </div>
  </div>
</div>

{% endblock %}